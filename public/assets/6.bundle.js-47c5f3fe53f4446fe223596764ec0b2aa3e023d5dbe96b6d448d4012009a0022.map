{"version":3,"sources":["webpack:///./frontend/components/dashboard/dashboard.jsx","webpack:///./frontend/components/dashboard/dashboard_container.jsx"],"names":["_ref","currentUser","logout","_useState","useState","_useState2","_slicedToArray","searchValue","setSearchValue","_useState3","symbol","_useState4","quote","setQuote","_useState5","_useState6","chartData","setChartData","_useState7","_useState8","news","setNews","_useState9","_useState10","show","setShow","_useState11","_useState12","portfolioValue","setPortfolioValue","_useState13","_useState14","stock","setStock","_useState15","_useState16","shares","setShares","_useState17","_useState18","sharesError","setSharesError","useEffect","document","title","isMounted","length","$","ajax","done","res","concat","articles","dashboardSearch","console","log","routeChangeDashboardStocksPage","handleOnChange","event","target","value","handleKeyPress","key","operation","postDataHandler","axios","post","username","then","querySelector","textContent","catch","error","history","useHistory","routeChange","path","push","ticker","watchlistChecker","watchlistItem","React","createElement","className","onClick","deleteWatchlistItemHandler","preventDefault","delete","firebaseID","predictiveSearch","item","msp","state","session","mdp","dispatch","connect","Dashboard"],"mappings":"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","file":"6.bundle.js","sourcesContent":["\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  CartesianGrid,\n  Tooltip,\n  YAxis,\n} from \"recharts\";\nimport axios from \"../axios-quotes\";\nimport { TickerSymbols } from \"../../../public/tickers.js\";\n\nexport default ({ currentUser, logout }) => {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [quote, setQuote] = useState({ symbol: \"qqq\" }); // Initialize with an object\n  const [chartData, setChartData] = useState([]);\n  const [news, setNews] = useState([]);\n  const [show, setShow] = useState(false);\n  const [portfolioValue, setPortfolioValue] = useState([]);\n  const [stock, setStock] = useState([]);\n  const [shares, setShares] = useState(0);\n  const [sharesError, setSharesError] = useState(null);\n\n  useEffect(() => {\n    document.title = \"Portfolio | Roberthood\";\n  }, []);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    if (news.length < 1) {\n      $.ajax(\"/api/news/new\").done((res) => {\n        if (isMounted) {\n          setNews(news.concat(res.articles));\n        }\n      });\n    }\n\n    if (quote.symbol) {\n      $.ajax(`/api/stocks/chart/${quote.symbol}`).done((res) => {\n        if (isMounted) setChartData(res);\n      });\n\n      $.ajax(`/api/stocks/quote/${quote.symbol}`).done((res) => {\n        if (isMounted) setQuote(res);\n      });\n    }\n\n    return () => {\n      isMounted = false;\n    };\n  }, [quote.symbol, news]);\n\n  const dashboardSearch = () => {\n    if (searchValue) {\n      $.ajax(`/api/stocks/quote/${searchValue}`).done((res) => {\n        console.log(\"Quote searchValue\" + searchValue);\n        console.log(\"Quote res\" + res);\n        setQuote(res);\n      });\n\n      $.ajax(`/api/stocks/chart/${searchValue}`).done((res) => {\n        setChartData(res);\n      });\n      routeChangeDashboardStocksPage(`/stocks/${searchValue}`);\n    }\n  };\n\n  const handleOnChange = (event) => {\n    setSearchValue(event.target.value);\n  };\n\n  const handleKeyPress = (event) => {\n    if (event.key === \"Enter\") {\n      dashboardSearch();\n    }\n  };\n\n  const operation = () => {\n    setShow(!show);\n  };\n\n  const postDataHandler = () => {\n    axios\n      .post(`./${currentUser.username}.json`, quote)\n      .then(\n        (document.querySelector(\".watchlist_btn\").textContent =\n          \"Added to Watchlist\")\n      )\n      .catch((error) => console.log(error));\n  };\n\n  const history = useHistory();\n  const routeChange = () => {\n    let path = `/account`;\n    history.push(path);\n  };\n\n  const routeChangeDashboardStocksPage = (ticker) => {\n    let path = ticker;\n    history.push(path);\n  };\n\n  const watchlistChecker = () => {\n    for (let watchlistItem of stock) {\n      if (watchlistItem.symbol === quote.symbol) {\n        return (\n          <button\n            className=\"watchlist_btn\"\n            onClick={deleteWatchlistItemHandler(watchlistItem)}\n          >\n            - Remove from Lists\n          </button>\n        );\n      }\n    }\n\n    return (\n      <button className=\"watchlist_btn\" onClick={postDataHandler}>\n        + Add to Lists\n      </button>\n    );\n  };\n\n  const deleteWatchlistItemHandler = (watchlistItem) => {\n    return (event) => {\n      event.preventDefault();\n      axios\n        .delete(`./${currentUser.username}/${watchlistItem.firebaseID}.json`)\n        .catch((error) => console.log(error));\n    };\n  };\n\n  const predictiveSearch = (item) => {\n    setSearchValue(item.symbol);\n    dashboardSearch();\n    setSearchValue(\"\");\n  };\n\n  return <div>{/* Your JSX code remains the same */}</div>;\n};\n\n  \n  \n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Dashboard from './dashboard';\nimport { logout } from '../../actions/session';\n\nconst msp = state => ({\n    currentUser: state.session.currentUser\n});\n\nconst mdp = dispatch => ({\n    logout: () => dispatch(logout())\n});\n\nexport default connect(msp, mdp)(Dashboard); "],"sourceRoot":""}